<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إضافة مشروع - RIM-FINANCE</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/contribute.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
</head>
<body dir="rtl" class="no-select">
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-content">
            <a href="https://medtahaebbou.github.io/rim-finance/" class="logo">
                <img src="assets/logo.png" alt="RIM-FINANCE" width="32" height="32">
                RIM-FINANCE
            </a>
            
            <div class="navbar-actions">
                <!-- Sélecteur de langue -->
                <div class="language-selector">
                    <div class="nav-icon" onclick="toggleLanguageMenu()">
                        <span>🌐</span>
                    </div>
                    <div id="language-menu" class="language-menu">
                        <div class="language-option" onclick="changeLanguage('ar')">
                            <span class="flag">🇲🇷</span>
                            <span>العربية</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('fr')">
                            <span class="flag">🇫🇷</span>
                            <span>Français</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('en')">
                            <span class="flag">🇺🇸</span>
                            <span>English</span>
                        </div>
                    </div>
                </div>
                
                <!-- Notifications -->
                <div class="nav-icon" onclick="navigateTo('notifications')">
                    <span>🔔</span>
                    <div class="notification-badge">3</div>
                </div>
                
                <!-- Menu drawer -->
                <div class="nav-icon" onclick="toggleDrawer()">
                    <span>☰</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Drawer -->
    <div id="drawer-overlay" class="drawer-overlay" onclick="closeDrawer()"></div>
    <div id="drawer" class="drawer">
        <div class="drawer-header">
            <div class="logo">RIM-FINANCE</div>
            <button class="drawer-close" onclick="closeDrawer()">×</button>
        </div>
        <div class="drawer-menu">
            <a href="/" class="drawer-item">
                <span>🏠</span>
                <span data-translate="home">الرئيسية</span>
            </a>
            <a href="projects" class="drawer-item">
                <span>🔍</span>
                <span data-translate="search">البحث</span>
            </a>
            <a href="profile" class="drawer-item">
                <span>👤</span>
                <span data-translate="profile">الملف الشخصي</span>
            </a>
            <a href="my-contributions" class="drawer-item">
                <span>💰</span>
                <span data-translate="my_contributions">مساهماتي</span>
            </a>
            <a href="manage-projects" class="drawer-item">
                <span>📊</span>
                <span data-translate="manage_projects">إدارة المشاريع</span>
            </a>
            <a href="savings-offers" class="drawer-item">
                <span>🏦</span>
                <span data-translate="savings_offers">عروض الادخار</span>
            </a>
            <a href="faq" class="drawer-item">
                <span>❓</span>
                <span data-translate="faq">الأسئلة الشائعة</span>
            </a>
            <a href="contact" class="drawer-item">
                <span>📞</span>
                <span data-translate="contact">اتصل بنا</span>
            </a>
        </div>
    </div>

    <!-- Contenu principal -->
    <main class="contribute-main">
        <div class="container">
            <!-- En-tête -->
            <div class="contribute-header">
                <div class="breadcrumb">
                    <a href="/" class="breadcrumb-item">الرئيسية</a>
                    <span class="breadcrumb-separator">›</span>
                    <span class="breadcrumb-item active">إضافة مشروع</span>
                </div>
                
                <h1 class="page-title">إضافة مشروع جديد</h1>
                <p class="page-subtitle">شارك مشروعك مع المجتمع واحصل على التمويل اللازم لتحقيق أهدافك</p>
                
                <!-- Indicateur de progression -->
                <div class="progress-indicator">
                    <div class="progress-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">معلومات أساسية</div>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">تفاصيل المشروع</div>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">التمويل والمكافآت</div>
                    </div>
                    <div class="progress-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">المراجعة والنشر</div>
                    </div>
                </div>
            </div>

            <!-- Formulaire multi-étapes -->
            <div class="contribute-form-container">
                <!-- Étape 1: Informations de base -->
                <div class="form-step active" id="step-1">
                    <div class="step-content">
                        <h2 class="step-title">معلومات أساسية عن المشروع</h2>
                        <p class="step-description">ابدأ بإدخال المعلومات الأساسية التي تعرّف بمشروعك</p>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label required">عنوان المشروع</label>
                                <input type="text" class="form-input" id="project-title" placeholder="أدخل عنواناً جذاباً ووصفياً لمشروعك" maxlength="100">
                                <div class="form-help">يجب أن يكون العنوان واضحاً ومختصراً (100 حرف كحد أقصى)</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">فئة المشروع</label>
                                <select class="form-select" id="project-category">
                                    <option value="">اختر فئة المشروع</option>
                                    <option value="technology">التكنولوجيا والابتكار</option>
                                    <option value="renewable-energy">الطاقة المتجددة</option>
                                    <option value="agriculture">الزراعة والثروة الحيوانية</option>
                                    <option value="education">التعليم والتدريب</option>
                                    <option value="healthcare">الصحة والرعاية الطبية</option>
                                    <option value="crafts">الصناعات التقليدية</option>
                                    <option value="commerce">التجارة والخدمات</option>
                                    <option value="tourism">السياحة والضيافة</option>
                                    <option value="environment">البيئة والاستدامة</option>
                                    <option value="social">المشاريع الاجتماعية</option>
                                </select>
                            </div>
                            
                            <div class="form-group full-width">
                                <label class="form-label required">وصف مختصر للمشروع</label>
                                <textarea class="form-textarea" id="project-summary" placeholder="اكتب وصفاً مختصراً وجذاباً يلخص فكرة مشروعك في بضعة أسطر" maxlength="300" rows="4"></textarea>
                                <div class="form-help">وصف مختصر يظهر في بطاقة المشروع (300 حرف كحد أقصى)</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">الموقع الجغرافي</label>
                                <select class="form-select" id="project-location">
                                    <option value="">اختر الموقع</option>
                                    <option value="nouakchott">نواكشوط</option>
                                    <option value="nouadhibou">نواذيبو</option>
                                    <option value="rosso">روصو</option>
                                    <option value="kaedi">كيهيدي</option>
                                    <option value="zouerate">ازويرات</option>
                                    <option value="atar">أطار</option>
                                    <option value="kiffa">كيفة</option>
                                    <option value="nema">النعمة</option>
                                    <option value="aioun">العيون</option>
                                    <option value="tidjikja">تيجكجة</option>
                                    <option value="other">أخرى</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">مدة المشروع المتوقعة</label>
                                <select class="form-select" id="project-duration">
                                    <option value="">اختر المدة</option>
                                    <option value="1-3">1-3 أشهر</option>
                                    <option value="3-6">3-6 أشهر</option>
                                    <option value="6-12">6-12 شهر</option>
                                    <option value="12-24">1-2 سنة</option>
                                    <option value="24+">أكثر من سنتين</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Upload d'image principale -->
                        <div class="image-upload-section">
                            <h3 class="section-title">صورة المشروع الرئيسية</h3>
                            <div class="image-upload-area" onclick="triggerImageUpload('main-image')">
                                <input type="file" id="main-image" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'main-preview')">
                                <div class="upload-placeholder" id="main-preview">
                                    <div class="upload-icon">📷</div>
                                    <div class="upload-text">انقر لرفع صورة المشروع الرئيسية</div>
                                    <div class="upload-hint">JPG, PNG أو GIF (حد أقصى 5MB)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Étape 2: Détails du projet -->
                <div class="form-step" id="step-2">
                    <div class="step-content">
                        <h2 class="step-title">تفاصيل المشروع</h2>
                        <p class="step-description">اشرح مشروعك بالتفصيل وأضف المحتوى المرئي</p>
                        
                        <div class="form-group">
                            <label class="form-label required">وصف مفصل للمشروع</label>
                            <div class="rich-editor">
                                <div class="editor-toolbar">
                                    <button type="button" class="editor-btn" onclick="formatText('bold')"><strong>B</strong></button>
                                    <button type="button" class="editor-btn" onclick="formatText('italic')"><em>I</em></button>
                                    <button type="button" class="editor-btn" onclick="formatText('underline')"><u>U</u></button>
                                    <button type="button" class="editor-btn" onclick="insertList('ul')">• قائمة</button>
                                    <button type="button" class="editor-btn" onclick="insertList('ol')">1. قائمة مرقمة</button>
                                </div>
                                <textarea class="form-textarea rich-textarea" id="project-description" placeholder="اكتب وصفاً مفصلاً لمشروعك يتضمن:
• الهدف من المشروع وأهميته
• كيف ستستخدم التمويل المطلوب
• الفوائد المتوقعة للمجتمع
• خطة التنفيذ والجدول الزمني
• خبرتك في هذا المجال" rows="12"></textarea>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">المشاكل التي يحلها المشروع</label>
                            <textarea class="form-textarea" id="project-problems" placeholder="اذكر المشاكل أو التحديات التي يهدف مشروعك إلى حلها" rows="4"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">الحلول المقترحة</label>
                            <textarea class="form-textarea" id="project-solutions" placeholder="اشرح كيف سيحل مشروعك هذه المشاكل" rows="4"></textarea>
                        </div>
                        
                        <!-- Galerie d'images -->
                        <div class="image-gallery-section">
                            <h3 class="section-title">معرض الصور</h3>
                            <p class="section-description">أضف صوراً إضافية توضح مشروعك (اختياري)</p>
                            
                            <div class="image-gallery">
                                <div class="image-upload-item" onclick="triggerImageUpload('gallery-1')">
                                    <input type="file" id="gallery-1" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'gallery-preview-1')">
                                    <div class="upload-placeholder small" id="gallery-preview-1">
                                        <div class="upload-icon">📷</div>
                                        <div class="upload-text">صورة 1</div>
                                    </div>
                                </div>
                                
                                <div class="image-upload-item" onclick="triggerImageUpload('gallery-2')">
                                    <input type="file" id="gallery-2" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'gallery-preview-2')">
                                    <div class="upload-placeholder small" id="gallery-preview-2">
                                        <div class="upload-icon">📷</div>
                                        <div class="upload-text">صورة 2</div>
                                    </div>
                                </div>
                                
                                <div class="image-upload-item" onclick="triggerImageUpload('gallery-3')">
                                    <input type="file" id="gallery-3" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'gallery-preview-3')">
                                    <div class="upload-placeholder small" id="gallery-preview-3">
                                        <div class="upload-icon">📷</div>
                                        <div class="upload-text">صورة 3</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Vidéo du projet -->
                        <div class="video-section">
                            <h3 class="section-title">فيديو المشروع (اختياري)</h3>
                            <div class="form-group">
                                <label class="form-label">رابط فيديو YouTube أو Vimeo</label>
                                <input type="url" class="form-input" id="project-video" placeholder="https://www.youtube.com/watch?v=...">
                                <div class="form-help">أضف رابط فيديو يشرح مشروعك (يزيد من فرص النجاح بنسبة 85%)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Étape 3: Financement et récompenses -->
                <div class="form-step" id="step-3">
                    <div class="step-content">
                        <h2 class="step-title">التمويل والمكافآت</h2>
                        <p class="step-description">حدد هدف التمويل وأضف مكافآت للمساهمين</p>
                        
                        <div class="funding-section">
                            <h3 class="section-title">هدف التمويل</h3>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label required">المبلغ المطلوب (أوقية موريتانية)</label>
                                    <input type="number" class="form-input" id="funding-goal" placeholder="0" min="10000" step="1000">
                                    <div class="form-help">الحد الأدنى: 10,000 أ.م.</div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label required">مدة الحملة</label>
                                    <select class="form-select" id="campaign-duration">
                                        <option value="">اختر المدة</option>
                                        <option value="15">15 يوم</option>
                                        <option value="30">30 يوم</option>
                                        <option value="45">45 يوم</option>
                                        <option value="60">60 يوم</option>
                                        <option value="90">90 يوم</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">تفصيل استخدام التمويل</label>
                                <div class="budget-breakdown">
                                    <div class="budget-item">
                                        <input type="text" class="form-input" placeholder="بند الإنفاق (مثل: معدات، مواد خام، تسويق)">
                                        <input type="number" class="form-input" placeholder="المبلغ (أ.م.)" min="0">
                                        <button type="button" class="btn-remove" onclick="removeBudgetItem(this)">×</button>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-secondary" onclick="addBudgetItem()">+ إضافة بند</button>
                            </div>
                        </div>
                        
                        <!-- Récompenses -->
                        <div class="rewards-section">
                            <h3 class="section-title">مكافآت المساهمين</h3>
                            <p class="section-description">أضف مكافآت جذابة لتشجيع المساهمين على دعم مشروعك</p>
                            
                            <div class="rewards-container">
                                <div class="reward-item">
                                    <div class="reward-header">
                                        <h4>مكافأة أساسية</h4>
                                        <button type="button" class="btn-remove" onclick="removeReward(this)">×</button>
                                    </div>
                                    
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label class="form-label">مبلغ المساهمة (أ.م.)</label>
                                            <input type="number" class="form-input reward-amount" placeholder="1000" min="100">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">عدد المكافآت المتاحة</label>
                                            <input type="number" class="form-input" placeholder="غير محدود" min="1">
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">عنوان المكافأة</label>
                                        <input type="text" class="form-input" placeholder="شكر خاص + تحديثات المشروع">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">وصف المكافأة</label>
                                        <textarea class="form-textarea" placeholder="اشرح ما سيحصل عليه المساهم مقابل هذا المبلغ" rows="3"></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">تاريخ التسليم المتوقع</label>
                                        <input type="date" class="form-input">
                                    </div>
                                </div>
                            </div>
                            
                            <button type="button" class="btn btn-secondary" onclick="addReward()">+ إضافة مكافأة جديدة</button>
                        </div>
                    </div>
                </div>

                <!-- Étape 4: Révision et publication -->
                <div class="form-step" id="step-4">
                    <div class="step-content">
                        <h2 class="step-title">المراجعة والنشر</h2>
                        <p class="step-description">راجع جميع المعلومات قبل نشر مشروعك</p>
                        
                        <div class="review-section">
                            <div class="review-card">
                                <h3>ملخص المشروع</h3>
                                <div class="review-content" id="project-review">
                                    <!-- Le contenu sera généré dynamiquement -->
                                </div>
                            </div>
                            
                            <div class="terms-section">
                                <div class="form-group">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="terms-agreement">
                                        <span class="checkmark"></span>
                                        أوافق على <a href="terms" target="_blank">الشروط والأحكام</a> و <a href="privacy" target="_blank">سياسة الخصوصية</a>
                                    </label>
                                </div>
                                
                                <div class="form-group">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="accuracy-confirmation">
                                        <span class="checkmark"></span>
                                        أؤكد أن جميع المعلومات المقدمة صحيحة ودقيقة
                                    </label>
                                </div>
                                
                                <div class="form-group">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="responsibility-acknowledgment">
                                        <span class="checkmark"></span>
                                        أتحمل المسؤولية الكاملة عن تنفيذ المشروع وتسليم المكافآت
                                    </label>
                                </div>
                            </div>
                            
                            <div class="publication-options">
                                <h3>خيارات النشر</h3>
                                <div class="form-group">
                                    <label class="radio-container">
                                        <input type="radio" name="publication-type" value="immediate" checked>
                                        <span class="radio-mark"></span>
                                        نشر فوري (بعد المراجعة)
                                    </label>
                                </div>
                                
                                <div class="form-group">
                                    <label class="radio-container">
                                        <input type="radio" name="publication-type" value="scheduled">
                                        <span class="radio-mark"></span>
                                        نشر مجدول
                                    </label>
                                </div>
                                
                                <div class="form-group scheduled-date" style="display: none;">
                                    <label class="form-label">تاريخ النشر المطلوب</label>
                                    <input type="datetime-local" class="form-input" id="scheduled-date">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Boutons de navigation -->
                <div class="form-navigation">
                    <button type="button" class="btn btn-secondary" id="prev-btn" onclick="previousStep()" style="display: none;">
                        <span>←</span>
                        السابق
                    </button>
                    
                    <div class="nav-spacer"></div>
                    
                    <button type="button" class="btn btn-secondary" id="save-draft-btn" onclick="saveDraft()">
                        <span>💾</span>
                        حفظ كمسودة
                    </button>
                    
                    <button type="button" class="btn btn-primary" id="next-btn" onclick="nextStep()">
                        التالي
                        <span>→</span>
                    </button>
                    
                    <button type="button" class="btn btn-primary" id="submit-btn" onclick="submitProject()" style="display: none;">
                        <span>🚀</span>
                        نشر المشروع
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Navigation inférieure -->
    <nav class="bottom-nav">
        <a href="https://medtahaebbou.github.io/rim-finance/" class="bottom-nav-item">
            <span>🏠</span>
            <span data-translate="home">الرئيسية</span>
        </a>
        <a href="projects" class="bottom-nav-item">
            <span>🔍</span>
            <span data-translate="search">البحث</span>
        </a>
        <a href="contribute" class="bottom-nav-item active">
            <span>➕</span>
            <span data-translate="contribute">المساهمة</span>
        </a>
        <a href="notifications" class="bottom-nav-item">
            <span>🔔</span>
            <span data-translate="notifications">الإشعارات</span>
        </a>
        <a href="profile" class="bottom-nav-item">
            <span>👤</span>
            <span data-translate="profile">الملف الشخصي</span>
        </a>
    </nav>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/contribute.js"></script>
</body>
</html>

